"0","abila<-st_read('data/MC3/Geospatial/Abila.shp',quiet=TRUE)"
"0",""
"0","l1<-c(""184646017"",""184646189"")"
"0","l11<-c(""184646189"",""184646726"")"
"0","l2<-c(""184646726"",""184645566"")"
"0","l3<-c(""184645566"",""184645397"")"
"0","l4<-c(""184645397"",""184644393"")"
"0",""
"0","l5<-c(""184646017"",""184646189"",""184646726"",""184645566"",""184645397"",""184645397"",""184644393"")"
"0",""
"0",""
"0","abila1<-abila %>%"
"0","filter(TLID %in% l1)"
"0","p= npts(abila1, by_feature = TRUE)"
"0","abila1 <- cbind(abila1, p) %>%filter(p>1) "
"0","abila1<-abila1%>% "
"0","mutate(geometry2=st_touches(geometry)) %>%  "
"0","  mutate(long = unlist(map(geometry,2)),"
"0","           lat = unlist(map(geometry,3)))"
"0",""
"0","abila11<-abila %>%"
"0","filter(TLID %in% l11)"
"0","p= npts(abila1, by_feature = TRUE)"
"0","abila11 <- cbind(abila11, p) %>%filter(p>1) "
"0","abila11<-abila11%>% "
"0","mutate(geometry2=st_touches(geometry)) %>%  "
"0","  mutate(long = unlist(map(geometry,2)),"
"0","           lat = unlist(map(geometry,3)))"
"0",""
"0","abila2<-abila %>%"
"0","filter(TLID %in% l2)"
"0","p= npts(abila2, by_feature = TRUE)"
"0","abila2 <- cbind(abila2, p) %>%filter(p>1) "
"0","abila2<-abila2%>% "
"0","mutate(geometry2=st_touches(geometry)) %>%  "
"0","  mutate(long = unlist(map(geometry,2)),"
"0","           lat = unlist(map(geometry,3)))"
"0",""
"0","abila3<-abila %>%"
"0","filter(TLID %in% l3)"
"0","p= npts(abila3, by_feature = TRUE)"
"0","abila3 <- cbind(abila3, p) %>%filter(p>1) "
"0","abila3<-abila3%>% "
"0","mutate(geometry2=st_touches(geometry)) %>%  "
"0","  mutate(long = unlist(map(geometry,2)),"
"0","           lat = unlist(map(geometry,3)))"
"0",""
"0","abila4<-abila %>%"
"0","filter(TLID %in% l4)"
"0","p= npts(abila4, by_feature = TRUE)"
"0","abila4 <- cbind(abila4, p) %>%filter(p>1) "
"0","abila4<-abila4%>% "
"0","mutate(geometry2=st_touches(geometry)) %>%  "
"0","  mutate(long = unlist(map(geometry,2)),"
"0","           lat = unlist(map(geometry,3)))"
"0",""
"0","abila5<-abila %>%"
"0","filter(TLID %in% l5)"
"0","p= npts(abila5, by_feature = TRUE)"
"0","abila5 <- cbind(abila5, p) %>%filter(p>1) "
"0","abila5<-abila5%>% "
"0","mutate(geometry2=st_touches(geometry)) %>%  "
"0","  mutate(long = unlist(map(geometry,2)),"
"0","           lat = unlist(map(geometry,3)))"
"0",""
"0",""
"0","data_location <- data %>% "
"0","  filter(longitude!="""",str_detect(message,""hit|van|shoot|driver"") ) %>% "
"0","  add_count(longitude,latitude,author)"
"0",""
"0",""
"0","abila5$label=c(""fire"",""hit"",""van"",""van"",""van"",""van"")"
"0",""
"0","ggplot()+"
"0","  geom_sf(data=abila,size=1,color=""black"",fill=""cyan1"")+"
"0","  ggtitle(""Abila"")+"
"0","  theme(axis.title.y=element_blank(),"
"0","        axis.ticks.y=element_blank(),"
"0","        axis.text.y=element_blank(),"
"0","        axis.title.x=element_blank(),"
"0","        panel.background = element_rect(fill = ""transparent""),"
"0","        axis.text.x=element_blank(),"
"0","        axis.ticks.x=element_blank(),"
"0","        legend.title= element_blank(),"
"0","        legend.position = ""none"")+"
"0","        ggtitle(""Located Ccdata and Microblogs"")+"
"0","  geom_point(data = data_location, aes(x = longitude,y=latitude,color=author,size=5))+"
"0","  geom_point(data = abila5,mapping = aes(x=long,y=lat,label=label),color=""red"",size=3)+"
"0","  geom_text()+"
"0","  geom_line(data = abila1,mapping = aes(x=long,y=lat),color=""red"",size=1)+"
"0","  geom_line(data = abila11,mapping = aes(x=long,y=lat),color=""red"",size=1)+"
"0","  geom_line(data = abila2,mapping = aes(x=long,y=lat),color=""red"",size=1)+"
"0","  geom_line(data = abila3,mapping = aes(x=long,y=lat),color=""red"",size=1)+"
"0","  geom_line(data = abila4,mapping = aes(x=long,y=lat),color=""red"",size=1)"
"0",""
